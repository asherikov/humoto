<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>humoto: Coding Policies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">humoto
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Coding Policies </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#md_coding_compat">Compatibility       </a></li>
<li class="level1"><a href="#md_coding_general">General policies    </a></li>
<li class="level1"><a href="#md_coding_style">Coding style        </a><ul><li class="level2"><a href="#md_coding_style_general">General rules       </a></li>
<li class="level2"><a href="#md_coding_style_specific">Specific rules      </a></li>
<li class="level2"><a href="#md_coding_style_visibility">Visibility of symbols   </a></li>
</ul>
</li>
<li class="level1"><a href="#md_coding_tests">Implementing tests      </a></li>
<li class="level1"><a href="#md_coding_tips">Tips        </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="md_coding_compat"></a>
Compatibility       </h1>
<ul>
<li><b>C++ standard</b>: In order to avoid problems with portability we enforce C++98 standard with appropriate compilation flags. Note for developers: It appears that <code>clang++</code> is sloppier than <code>g++</code> and silently accepts code which results in a failure of the latter. Hence, it is recommended to verify the code with <code>g++</code> before pushing changes to the master branch.</li>
<li><b>cmake</b>: All cmake files and scripts should be compatible with version 2.8.12 of <code>cmake</code>.</li>
</ul>
<h1><a class="anchor" id="md_coding_general"></a>
General policies    </h1>
<ul>
<li>Sometimes we use numbers in the names of various objects: modules, tests, etc. It is desirable to make these names unique not only currently, but also in the repository history. The simplest way to achieve this is to assign strictly incremental numbers. For example, if there are two tests <code>test_005</code> and <code>test_010</code> in a certain module, a newly added test must have name <code>test_011</code> and not <code>test_000</code> nor <code>test_006</code>. There still might be a collision with a deleted <code>test_011</code> &ndash; such cases should also be avoided if possible.</li>
</ul>
<h1><a class="anchor" id="md_coding_style"></a>
Coding style        </h1>
<p>This section is loosely based on (CC-By 3.0 License) <a href="https://google.github.io/styleguide/cppguide.html">https://google.github.io/styleguide/cppguide.html</a></p>
<h2><a class="anchor" id="md_coding_style_general"></a>
General rules       </h2>
<h3>Tabulation</h3>
<blockquote class="doxtable">
<ul>
<li>No tabs should be used. Indentation must include 4 spaces. </li>
</ul>
</blockquote>
<h3>Naming</h3>
<blockquote class="doxtable">
<ul>
<li>Function names, variable names, and filenames should be descriptive; avoid abbreviation. Types and variables should be nouns, while functions should be "command" verbs. </li>
</ul>
</blockquote>
<h2><a class="anchor" id="md_coding_style_specific"></a>
Specific rules      </h2>
<h3>Files</h3>
<blockquote class="doxtable">
<ul>
<li>Filenames should be all lowercase and may include underscores <code>_</code>.</li>
<li>Extensions of C++ source and header files should be <code>.cpp</code> and <code>.h</code> respectively. </li>
</ul>
</blockquote>
<h3>Type names</h3>
<blockquote class="doxtable">
<p>Names of all types &ndash; classes, structs, typedefs, and enums &ndash; have the same naming convention:</p>
<ul>
<li>Type names start with a capital letter and have a capital letter for each new word, with no underscores: <code>MyExcitingClass</code>, <code>MyExcitingEnum</code>. </li>
</ul>
</blockquote>
<h3>Enumerations</h3>
<blockquote class="doxtable">
<ul>
<li>All enumerations must be defined within some container class scope.</li>
<li>Names of the enumerators should be in upper case with underscores. </li>
</ul>
</blockquote>
<h3>Variables</h3>
<blockquote class="doxtable">
<ul>
<li>Variable names are all lowercase, with underscores between words, i.e., <code>my_table_name</code>.</li>
<li>Global variables must be avoided. If it is not possible, their names must have <code>g_</code> prefix, e.g., <code>g_my_global_variable</code>. </li>
</ul>
</blockquote>
<h3>Functions and methods</h3>
<blockquote class="doxtable">
<ul>
<li>Functions should start with a lowercase letter and have a capital letter for each new word without underscores.</li>
<li>Function names should typically be imperative, i.e., they should be commands: <code>openFile()</code>.</li>
<li>Parameters, which do not serve as outputs, must be marked with <code>const</code>.</li>
<li>Output parameters must be gathered in the beginning of the list of parameters: <code>doSomething(output1, output2, input1, input2 = &lt;default_value&gt;)</code>. </li>
</ul>
</blockquote>
<h3>Classes</h3>
<blockquote class="doxtable">
<ul>
<li>It is not allowed to mix definitions with different access modifiers, i.e., methods and members with the same access modifier should be gathered together.</li>
<li>It is recommended to use access modifiers multiple times to visually separate members from methods.</li>
<li>Names of member variables should have trailing underscores, i.e., <code>member_name_</code>.</li>
<li>Methods, which do not change the corresponding class, must always be marked with <code>const</code>.</li>
<li>In general, destructors of base classes must be defined and must be protected. If it is necessary to allow polymorphic destruction, the destructor should be defined as public and virtual.</li>
<li>Constructors of base classes should be protected as well. </li>
</ul>
</blockquote>
<h3>Macro</h3>
<blockquote class="doxtable">
<ul>
<li>Macro should be avoided when possible.</li>
<li>Macro name must be in all capitals with underscores. </li>
</ul>
</blockquote>
<h3>Namespaces</h3>
<blockquote class="doxtable">
<ul>
<li>Names of namespaces should be in lower case with possible underscores. </li>
</ul>
</blockquote>
<h3>Templates</h3>
<blockquote class="doxtable">
<ul>
<li>Names of template parameters should follow the same conventions as the category they belong to (typenames, variables), but their names must include <code>t_</code> prefix: <code>t_BaseClass</code>. </li>
</ul>
</blockquote>
<h2><a class="anchor" id="md_coding_style_visibility"></a>
Visibility of symbols   </h2>
<ul>
<li>We assume that implementation details should not be exposed when it is compiled into a library. Since it is default on many platforms, we introduced special macro: <code>HUMOTO_LOCAL</code>, which hides the corresponding symbol using appropriate compiler attributes. The opposite effect is achieved with <code>HUMOTO_API</code>.</li>
</ul>
<h1><a class="anchor" id="md_coding_tests"></a>
Implementing tests      </h1>
<ul>
<li>It is preferrable to add a new regression test case to an existing related regression test instead of creating a new test and thus forcing creation of an additional binary.</li>
</ul>
<h1><a class="anchor" id="md_coding_tips"></a>
Tips        </h1>
<h2>Eigen</h2>
<ul>
<li>In some cases, Eigen automatically creates temporary variables in order to avoid problems when the assigned variable participates in the expression on the right hand side of the assignment. This behavior can be suppressed with <code>noalias()</code>: <code>a.noalias() = b * c</code>. Note, however, that expressions like <code>a.noalias() = b * a</code> are potentially dangerous. See <a href="https://eigen.tuxfamily.org/dox/group__TopicAliasing.html">https://eigen.tuxfamily.org/dox/group__TopicAliasing.html</a> for more information. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 29 2017 16:44:41 for humoto by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
